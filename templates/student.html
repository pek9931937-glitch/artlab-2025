<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>{{ name }} - ArtLab 2025 Digital Museum</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <!-- 상단 헤더 (메인과 동일) -->
    <header class="header">
        <div class="header-left">
            <img src="{{ url_for('static', filename='gochon-logo.png') }}"
                 alt="Gochon High School Logo"
                 class="logo">
        </div>

        <div class="header-center">
            <a href="{{ url_for('home') }}" class="header-title-link">
                <h1 class="header-title">ArtLab 2025 Digital Museum</h1>
            </a>
        </div>

        <div class="header-right">
            <img src="{{ url_for('static', filename='teacher-hanjimin.jpg') }}"
                 alt="지도교사 한지민"
                 class="teacher-photo"
                 id="teacher-photo">
        </div>
    </header>

    <main class="main">
        <section class="section">
            <h2 class="section-title">{{ name }} 학생 작품입니다.</h2>

            <!-- 작품 1번 / 2번: 세로 이미지 두 개가 양옆으로 나란히 배치 -->
            <div class="artwork-row">
                <div class="artwork">
                    <h3 class="artwork-title">작품 1번입니다.</h3>
                    <img src="{{ url_for('static', filename='sample-art-1.jpg') }}"
                         alt="작품 1번"
                         class="artwork-image"
                         data-artwork="1">
                </div>

                <div class="artwork">
                    <h3 class="artwork-title">작품 2번입니다.</h3>
                    <img src="{{ url_for('static', filename='sample-art-2.jpg') }}"
                         alt="작품 2번"
                         class="artwork-image"
                         data-artwork="2">
                </div>
            </div>

            <!-- 하단 네비게이션 -->
            <div class="student-nav">
                {% if prev_name %}
                    <a href="{{ url_for('student_page', name=prev_name) }}"
                       class="nav-link">← 이전 학생입니다. ({{ prev_name }})</a>
                {% else %}
                    <span class="nav-disabled">← 이전 학생이 없습니다.</span>
                {% endif %}

                <a href="{{ url_for('home') }}" class="nav-link">홈으로 돌아갑니다.</a>

                {% if next_name %}
                    <a href="{{ url_for('student_page', name=next_name) }}"
                       class="nav-link">다음 학생입니다. ({{ next_name }}) →</a>
                {% else %}
                    <span class="nav-disabled">다음 학생이 없습니다. →</span>
                {% endif %}
            </div>
        </section>
    </main>

    <!-- 작품 확대 팝업 -->
    <div class="modal" id="art-modal">
        <div class="modal-backdrop" id="art-modal-backdrop"></div>
        <div class="modal-content">
            <img src="" alt="작품 확대" class="modal-image" id="art-modal-image">
        </div>
    </div>

    <!-- 선생님 사진 팝업 (학생 페이지에서도 동일하게 작동) -->
    <div class="modal" id="teacher-modal">
        <div class="modal-backdrop" id="teacher-modal-backdrop"></div>
        <div class="modal-content">
            <img src="{{ url_for('static', filename='teacher-hanjimin.jpg') }}"
                 alt="지도교사 한지민 확대"
                 class="modal-image">
        </div>
    </div>

    <script>
        // 작품 이미지 클릭 시 확대
        const artImages = document.querySelectorAll(".artwork-image");
        const artModal = document.getElementById("art-modal");
        const artModalImg = document.getElementById("art-modal-image");
        const artBackdrop = document.getElementById("art-modal-backdrop");

        artImages.forEach((img) => {
            img.addEventListener("click", () => {
                artModalImg.src = img.src;
                artModal.classList.add("show");
            });
        });

        if (artBackdrop && artModal) {
            artBackdrop.addEventListener("click", () => {
                artModal.classList.remove("show");
            });
        }

        // ESC 키로 작품 팝업 닫기
        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") {
                if (artModal) artModal.classList.remove("show");
                if (teacherModal) teacherModal.classList.remove("show");
            }
        });

        // 선생님 사진 팝업
        const teacherPhoto = document.getElementById("teacher-photo");
        const teacherModal = document.getElementById("teacher-modal");
        const teacherBackdrop = document.getElementById("teacher-modal-backdrop");

        if (teacherPhoto && teacherModal && teacherBackdrop) {
            teacherPhoto.addEventListener("click", () => {
                teacherModal.classList.add("show");
            });

            teacherBackdrop.addEventListener("click", () => {
                teacherModal.classList.remove("show");
            });
        }
    </script>
</body>
</html>
